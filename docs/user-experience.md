# –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

## –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ü—Ä–æ—Å—Ç–∞—è –∫–æ–º–∞–Ω–¥–∞ (mind pack)

### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:
```bash
kb mind pack -i "impact analysis"
```

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∑–∞ –∫—É–ª–∏—Å–∞–º–∏:

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç**: –ö–æ–º–∞–Ω–¥–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è, –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –∏–ª–∏ –ª–æ–≥–∏
2. **–°–∏—Å—Ç–µ–º–∞ –¥–µ–ª–∞–µ—Ç**:
   - –ó–∞–≥—Ä—É–∂–∞–µ—Ç –º–∞–Ω–∏—Ñ–µ—Å—Ç `@kb-labs/mind`
   - –°–æ–∑–¥–∞–µ—Ç –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—É—é –ø–µ—Å–æ—á–Ω–∏—Ü—É –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
   - –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π `traceId` –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è
   - –ü–µ—Ä–µ–¥–∞–µ—Ç —Ñ–ª–∞–≥–∏ –≤ handler `pack-handler.ts`

3. **Handler –≤—ã–ø–æ–ª–Ω—è–µ—Ç**:
   - –ß–∏—Ç–∞–µ—Ç –∏–Ω–¥–µ–∫—Å mind –∏–∑ `.kb/mind/`
   - –°–æ–±–∏—Ä–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –ø–∞–∫ (pack) –Ω–∞ –æ—Å–Ω–æ–≤–µ intent
   - **–ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç –∞—Ä—Ç–µ—Ñ–∞–∫—Ç** —á–µ—Ä–µ–∑ `ctx.runtime.artifacts.write()`

4. **ArtifactBroker –¥–µ–ª–∞–µ—Ç**:
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–∞–≤–∞: —Ä–∞–∑—Ä–µ—à–µ–Ω–æ –ª–∏ –ø–∏—Å–∞—Ç—å –≤ `.kb/mind/pack/**`?
   - –ï—Å–ª–∏ –¥–∞ ‚Üí –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –∞—Ç–æ–º–∞—Ä–Ω–æ (temp ‚Üí rename)
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ: —Ä–∞–∑–º–µ—Ä, sha256, contentType, timestamp
   - –†–µ–∑—É–ª—å—Ç–∞—Ç: —Ñ–∞–π–ª `.kb/mind/pack/default/latest.md` + `.meta.json`

5. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç**: 
   ```
   ‚úì Pack created: .kb/mind/pack/default/latest.md
   ‚úì Size: 45KB
   ‚úì Tokens: ~12,500
   ```

### –ß—Ç–æ —ç—Ç–æ –¥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é:

- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –°–∏—Å—Ç–µ–º–∞ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –ø–ª–∞–≥–∏–Ω –Ω–µ –º–æ–∂–µ—Ç –∑–∞–ø–∏—Å–∞—Ç—å —Ñ–∞–π–ª –∫—É–¥–∞ –ø–æ–ø–∞–ª–æ
- **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**: –ê—Ç–æ–º–∞—Ä–Ω–∞—è –∑–∞–ø–∏—Å—å - —Ñ–∞–π–ª –ª–∏–±–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–ø–∏—Å–∞–Ω, –ª–∏–±–æ –µ–≥–æ –Ω–µ—Ç (–Ω–µ—Ç —á–∞—Å—Ç–∏—á–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤)
- **–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ñ–∞–π–ª–µ (—Ä–∞–∑–º–µ—Ä, —Ö–µ—à, –¥–∞—Ç–∞)
- **–¢—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞**: –ö–∞–∂–¥–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è —Å `traceId` - –º–æ–∂–Ω–æ –æ—Ç—Å–ª–µ–¥–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É

---

## –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ö—Ä–æ—Å—Å-–ø–ª–∞–≥–∏–Ω–Ω—ã–π –≤—ã–∑–æ–≤ (ai-review ‚Üí mind)

### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:
```bash
kb ai-review review --pr 123 --files "src/**"
```

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∑–∞ –∫—É–ª–∏—Å–∞–º–∏:

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç**: –ö–æ–º–∞–Ω–¥–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è
2. **–°–∏—Å—Ç–µ–º–∞ –¥–µ–ª–∞–µ—Ç**:
   - –ó–∞–≥—Ä—É–∂–∞–µ—Ç –º–∞–Ω–∏—Ñ–µ—Å—Ç `@kb-labs/ai-review`
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –≤ –º–∞–Ω–∏—Ñ–µ—Å—Ç–µ:
     ```json
     {
       "permissions": {
         "invoke": {
           "routes": [
             { "target": "@kb-labs/mind:POST /query" }
           ]
         },
         "artifacts": {
           "read": [
             { "from": "@kb-labs/mind", "paths": ["context/**"] }
           ]
         }
       }
     }
     ```
   - –°–æ–∑–¥–∞–µ—Ç –ø–µ—Å–æ—á–Ω–∏—Ü—É –¥–ª—è `ai-review`

3. **Handler `ai-review` –¥–µ–ª–∞–µ—Ç**:
   ```typescript
   // –í—ã–∑—ã–≤–∞–µ—Ç mind –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
   const mindResult = await ctx.runtime.invoke({
     target: '@kb-labs/mind:POST /query',
     input: {
       query: 'impact',
       files: input.files
     }
   });
   
   // –ß–∏—Ç–∞–µ—Ç –∞—Ä—Ç–µ—Ñ–∞–∫—Ç –æ—Ç mind
   const context = await ctx.runtime.artifacts.read({
     from: '@kb-labs/mind',
     path: 'context/12345.json'
   });
   
   // –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∏ –ø–∏—à–µ—Ç —Å–≤–æ–π –∞—Ä—Ç–µ—Ñ–∞–∫—Ç
   await ctx.runtime.artifacts.write({
     to: 'self',
     path: 'out/review/123.json',
     data: review
   });
   ```

4. **InvokeBroker –¥–µ–ª–∞–µ—Ç**:
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–∞–≤–∞: —Ä–∞–∑—Ä–µ—à–µ–Ω –ª–∏ –≤—ã–∑–æ–≤ `@kb-labs/mind:POST /query`?
   - –ï—Å–ª–∏ –Ω–µ—Ç ‚Üí –æ—à–∏–±–∫–∞: `E_PLUGIN_INVOKE_DENIED` —Å –ø–æ–Ω—è—Ç–Ω—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º
   - –ï—Å–ª–∏ –¥–∞ ‚Üí —Å–æ–∑–¥–∞–µ—Ç **–Ω–æ–≤—É—é –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—É—é –ø–µ—Å–æ—á–Ω–∏—Ü—É** –¥–ª—è mind
   - –ü–µ—Ä–µ–¥–∞–µ—Ç `traceId` –∏ —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π `spanId` (–¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Ü–µ–ø–æ—á–∫–∏)
   - –í—ã–ø–æ–ª–Ω—è–µ—Ç mind –≤ –∏–∑–æ–ª—è—Ü–∏–∏
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ–±—Ä–∞—Ç–Ω–æ –≤ `ai-review`

5. **ArtifactBroker –¥–µ–ª–∞–µ—Ç**:
   - –ü—Ä–∏ —á—Ç–µ–Ω–∏–∏: –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–∞–≤–∞ –Ω–∞ —á—Ç–µ–Ω–∏–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞ –æ—Ç `@kb-labs/mind`
   - –ü—Ä–∏ –∑–∞–ø–∏—Å–∏: –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–∞–≤–∞ –Ω–∞ –∑–∞–ø–∏—Å—å –≤ —Å–≤–æ–π `out/`
   - –ï—Å–ª–∏ –Ω–µ—Ç –ø—Ä–∞–≤ ‚Üí –æ—à–∏–±–∫–∞: `E_ARTIFACT_READ_DENIED` –∏–ª–∏ `E_ARTIFACT_WRITE_DENIED`

6. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç**:
   ```
   ‚úì Querying mind for context...
   ‚úì Context loaded: 45KB
   ‚úì Analyzing code impact...
   ‚úì Review completed: 12 findings
   ‚úì Report saved: .artifacts/@kb-labs/ai-review/out/review/123.json
   ```

### –ß—Ç–æ —ç—Ç–æ –¥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é:

- **–ö–æ–º–ø–æ–∑–∏—Ü–∏—è**: –ü–ª–∞–≥–∏–Ω—ã –º–æ–≥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤–º–µ—Å—Ç–µ, –Ω–µ –∑–Ω–∞—è –¥—Ä—É–≥ –æ –¥—Ä—É–≥–µ –Ω–∞–ø—Ä—è–º—É—é
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ü–ª–∞–≥–∏–Ω A –Ω–µ –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –ø–ª–∞–≥–∏–Ω B –±–µ–∑ —è–≤–Ω–æ–≥–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
- **–ò–∑–æ–ª—è—Ü–∏—è**: –ö–∞–∂–¥—ã–π –ø–ª–∞–≥–∏–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Å–≤–æ–µ–π –ø–µ—Å–æ—á–Ω–∏—Ü–µ - –Ω–µ –º–æ–∂–µ—Ç –Ω–∞–≤—Ä–µ–¥–∏—Ç—å –¥—Ä—É–≥–æ–º—É
- **–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å**: –í—Å–µ –≤—ã–∑–æ–≤—ã –ª–æ–≥–∏—Ä—É—é—Ç—Å—è, –º–æ–∂–Ω–æ —É–≤–∏–¥–µ—Ç—å —Ü–µ–ø–æ—á–∫—É: `ai-review ‚Üí mind ‚Üí (result)`
- **–ü–æ–Ω—è—Ç–Ω—ã–µ –æ—à–∏–±–∫–∏**: –ï—Å–ª–∏ –Ω–µ—Ç –ø—Ä–∞–≤ - —Å–∏—Å—Ç–µ–º–∞ –æ–±—ä—è—Å–Ω—è–µ—Ç, —á—Ç–æ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ –º–∞–Ω–∏—Ñ–µ—Å—Ç

---

## –°—Ü–µ–Ω–∞—Ä–∏–π 3: –û—à–∏–±–∫–∞ –ø—Ä–∞–≤ (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –ø–æ–Ω—è—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ)

### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:
```bash
kb ai-review review --pr 123
```

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:

1. **Handler –ø—ã—Ç–∞–µ—Ç—Å—è –≤—ã–∑–≤–∞—Ç—å mind**
2. **InvokeBroker –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–∞–≤–∞** ‚Üí –ù–ï–¢ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
3. **–°–∏—Å—Ç–µ–º–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É**:
   ```json
   {
     "code": "E_PLUGIN_INVOKE_DENIED",
     "message": "Invoke to target denied by policy",
     "context": {
       "caller": "@kb-labs/ai-review",
       "target": "@kb-labs/mind:POST /query",
       "reason": "route not allowed"
     },
     "remediation": "Add '@kb-labs/mind:POST /query' to permissions.invoke.routes in caller manifest"
   }
   ```

4. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç**:
   ```
   ‚úó Error: Invoke denied
   
   Caller: @kb-labs/ai-review
   Target: @kb-labs/mind:POST /query
   Reason: route not allowed
   
   üí° Fix: Add '@kb-labs/mind:POST /query' to permissions.invoke.routes 
         in @kb-labs/ai-review manifest
   ```

### –ß—Ç–æ —ç—Ç–æ –¥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é:

- **–ü–æ–Ω—è—Ç–Ω—ã–µ –æ—à–∏–±–∫–∏**: –ù–µ –ø—Ä–æ—Å—Ç–æ "–æ—à–∏–±–∫–∞ 403", –∞ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ —á—Ç–æ –Ω–µ —Ç–∞–∫
- **–†–µ–º–µ–¥–∏–∞—Ü–∏—è**: –°–∏—Å—Ç–µ–º–∞ –ø–æ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ü–ª–∞–≥–∏–Ω –Ω–µ –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –¥—Ä—É–≥–æ–π –ø–ª–∞–≥–∏–Ω –±–µ–∑ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –≤–ª–∞–¥–µ–ª—å—Ü–∞

---

## –°—Ü–µ–Ω–∞—Ä–∏–π 4: –¶–µ–ø–æ—á–∫–∞ –≤—ã–∑–æ–≤–æ–≤ (A ‚Üí B ‚Üí C)

### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:
```bash
kb workflow run --profile production
```

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:

1. **workflow** –≤—ã–∑—ã–≤–∞–µ—Ç **ai-review**
2. **ai-review** –≤—ã–∑—ã–≤–∞–µ—Ç **mind**
3. **mind** –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç
4. **ai-review** –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç
5. **workflow** –∑–∞–≤–µ—Ä—à–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

### –ó–∞—â–∏—Ç–∞ –æ—Ç –ø—Ä–æ–±–ª–µ–º:

- **–ó–∞—â–∏—Ç–∞ –æ—Ç —Ä–µ–∫—É—Ä—Å–∏–∏**: –°–∏—Å—Ç–µ–º–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç `visited[]` - –µ—Å–ª–∏ –ø–ª–∞–≥–∏–Ω —É–∂–µ –±—ã–ª –≤—ã–∑–≤–∞–Ω –≤ —Ü–µ–ø–æ—á–∫–µ, –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –≤—ã–∑–æ–≤ –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è
- **–ó–∞—â–∏—Ç–∞ –æ—Ç –≥–ª—É–±–∏–Ω—ã**: –ú–∞–∫—Å–∏–º—É–º 8 —É—Ä–æ–≤–Ω–µ–π (A‚ÜíB‚ÜíC‚ÜíD‚ÜíE‚ÜíF‚ÜíG‚ÜíH)
- **–ó–∞—â–∏—Ç–∞ –æ—Ç –≤–∑—Ä—ã–≤–∞**: –ú–∞–∫—Å–∏–º—É–º 16 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤ –∏–∑ –æ–¥–Ω–æ–≥–æ –ø–ª–∞–≥–∏–Ω–∞
- **–ó–∞—â–∏—Ç–∞ –æ—Ç —Ç–∞–π–º–∞—É—Ç–∞**: –û–±—â–∏–π —Ç–∞–π–º–∞—É—Ç —Ü–µ–ø–æ—á–∫–∏ –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç –∫–æ—Ä–Ω–µ–≤–æ–≥–æ –≤—ã–∑–æ–≤–∞

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç:
```
‚úì Workflow started (traceId: abc123)
  ‚úì Step 1: ai-review (spanId: def456)
    ‚úì Step 1.1: mind query (spanId: ghi789)
    ‚úì Step 1.2: context analysis
  ‚úì Step 2: deploy
‚úì Workflow completed in 2.3s
```

### –ß—Ç–æ —ç—Ç–æ –¥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é:

- **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**: –°–∏—Å—Ç–µ–º–∞ –Ω–µ –º–æ–∂–µ—Ç –∑–∞—Ü–∏–∫–ª–∏—Ç—å—Å—è –∏–ª–∏ –∑–∞—Å—Ç—Ä—è—Ç—å
- **–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å**: –í–∏–¥–Ω–æ –ø–æ–ª–Ω—É—é —Ü–µ–ø–æ—á–∫—É –≤—ã–∑–æ–≤–æ–≤ —á–µ—Ä–µ–∑ traceId
- **–û—Ç–ª–∞–¥–∫–∞**: –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ —Å–ª–æ–º–∞–ª–æ—Å—å - –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –≥–¥–µ –∏–º–µ–Ω–Ω–æ –≤ —Ü–µ–ø–æ—á–∫–µ

---

## –°—Ü–µ–Ω–∞—Ä–∏–π 5: –ß—Ç–µ–Ω–∏–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ –¥—Ä—É–≥–æ–≥–æ –ø–ª–∞–≥–∏–Ω–∞

### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:
```bash
kb dashboard show --plugin mind
```

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:

1. **dashboard** –ø—ã—Ç–∞–µ—Ç—Å—è –ø—Ä–æ—á–∏—Ç–∞—Ç—å –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –æ—Ç `mind`
2. **ArtifactBroker –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–∞–≤–∞**:
   ```json
   {
     "permissions": {
       "artifacts": {
         "read": [
           { 
             "from": "@kb-labs/mind", 
             "paths": ["pack/**", "query/**"],
             "allowedTypes": ["application/json", "text/markdown"]
           }
         ]
       }
     }
   }
   ```

3. **–ï—Å–ª–∏ –ø—Ä–∞–≤–∞ –µ—Å—Ç—å**:
   - –ß–∏—Ç–∞–µ—Ç —Ñ–∞–π–ª –∏–∑ `.artifacts/@kb-labs/mind/.kb/mind/pack/latest.md`
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç contentType (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω `allowedTypes`)
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ

4. **–ï—Å–ª–∏ –ø—Ä–∞–≤ –Ω–µ—Ç**:
   ```
   ‚úó Error: Artifact read denied
   
   Caller: @kb-labs/dashboard
   From: @kb-labs/mind
   Path: pack/latest.md
   Reason: path not allowed
   
   üí° Fix: Add 'pack/**' to permissions.artifacts.read[].paths 
         in @kb-labs/dashboard manifest
   ```

### –ß—Ç–æ —ç—Ç–æ –¥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é:

- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ü–ª–∞–≥–∏–Ω –Ω–µ –º–æ–∂–µ—Ç —á–∏—Ç–∞—Ç—å —á—É–∂–∏–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –±–µ–∑ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
- **–ì—Ä–∞–Ω—É–ª—è—Ä–Ω–æ—Å—Ç—å**: –ú–æ–∂–Ω–æ —Ä–∞–∑—Ä–µ—à–∏—Ç—å —á—Ç–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö –ø—É—Ç–µ–π
- **–ö–æ–Ω—Ç—Ä–æ–ª—å —Ç–∏–ø–æ–≤**: –ú–æ–∂–Ω–æ —Ä–∞–∑—Ä–µ—à–∏—Ç—å —Ç–æ–ª—å–∫–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ content types (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–æ–ª—å–∫–æ JSON)

---

## –ß—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç –≤ –∏—Ç–æ–≥–µ:

### 1. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å "–∏–∑ –∫–æ—Ä–æ–±–∫–∏"**
- –ü–ª–∞–≥–∏–Ω—ã –Ω–µ –º–æ–≥—É—Ç –Ω–∞–≤—Ä–µ–¥–∏—Ç—å –¥—Ä—É–≥ –¥—Ä—É–≥—É
- –ù–µ–ª—å–∑—è –≤—ã–∑–≤–∞—Ç—å –ø–ª–∞–≥–∏–Ω –±–µ–∑ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
- –ù–µ–ª—å–∑—è –ø—Ä–æ—á–∏—Ç–∞—Ç—å/–∑–∞–ø–∏—Å–∞—Ç—å –∞—Ä—Ç–µ—Ñ–∞–∫—Ç –±–µ–∑ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
- –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ —Ñ–∞–π–ª–∞–º –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è

### 2. **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**
- –ê—Ç–æ–º–∞—Ä–Ω—ã–µ –∑–∞–ø–∏—Å–∏ - –Ω–µ—Ç —á–∞—Å—Ç–∏—á–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- –ó–∞—â–∏—Ç–∞ –æ—Ç —Ä–µ–∫—É—Ä—Å–∏–∏ –∏ –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã—Ö —Ü–∏–∫–ª–æ–≤
- –ó–∞—â–∏—Ç–∞ –æ—Ç —Ç–∞–π–º–∞—É—Ç–æ–≤ —á–µ—Ä–µ–∑ —Ü–µ–ø–æ—á–∫–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

### 3. **–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å**
- –ü–æ–Ω—è—Ç–Ω—ã–µ –æ—à–∏–±–∫–∏ —Å –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º –∏ —Ä–µ—à–µ–Ω–∏–µ–º
- –ü–æ–ª–Ω–∞—è —Ü–µ–ø–æ—á–∫–∞ –≤—ã–∑–æ–≤–æ–≤ —á–µ—Ä–µ–∑ traceId
- –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –≤—Å–µ—Ö –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ (—Ä–∞–∑–º–µ—Ä, —Ö–µ—à, –¥–∞—Ç–∞)
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

### 4. **–ö–æ–º–ø–æ–∑–∏—Ü–∏—è**
- –ü–ª–∞–≥–∏–Ω—ã –º–æ–≥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤–º–µ—Å—Ç–µ
- –ù–µ –Ω—É–∂–Ω–æ –∑–Ω–∞—Ç—å –æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–æ—Å—Ç—è—Ö –¥—Ä—É–≥–∏—Ö –ø–ª–∞–≥–∏–Ω–æ–≤
- –ú–æ–∂–Ω–æ —Å—Ç—Ä–æ–∏—Ç—å —Å–ª–æ–∂–Ω—ã–µ workflows –∏–∑ –ø—Ä–æ—Å—Ç—ã—Ö –ø–ª–∞–≥–∏–Ω–æ–≤
- –ö–∞–∂–¥—ã–π –ø–ª–∞–≥–∏–Ω –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω –∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º

### 5. **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç –∫–æ–º–∞–Ω–¥—É
- –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–∞–≤–∞–º–∏, –∏–∑–æ–ª—è—Ü–∏–µ–π, —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–æ–π
- –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ç–∞–∫ - —Å–∏—Å—Ç–µ–º–∞ –æ–±—ä—è—Å–Ω—è–µ—Ç –∫–∞–∫ –∏—Å–ø—Ä–∞–≤–∏—Ç—å
- –ù–µ –Ω—É–∂–Ω–æ –¥—É–º–∞—Ç—å –æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ - –æ–Ω–∞ –≤—Å—Ç—Ä–æ–µ–Ω–∞

---

## –ü—Ä–∏–º–µ—Ä—ã —Ä–µ–∞–ª—å–Ω—ã—Ö –∫–æ–º–∞–Ω–¥:

### –ö–æ–º–∞–Ω–¥–∞ 1: –ü—Ä–æ—Å—Ç–∞—è —Ä–∞–±–æ—Ç–∞ mind
```bash
$ kb mind pack -i "impact analysis"
‚úì Pack created: .kb/mind/pack/default/latest.md
‚úì Size: 45KB, Tokens: ~12,500
```

### –ö–æ–º–∞–Ω–¥–∞ 2: –ö—Ä–æ—Å—Å-–ø–ª–∞–≥–∏–Ω–Ω—ã–π –≤—ã–∑–æ–≤
```bash
$ kb ai-review review --pr 123
‚úì Querying mind for context... (traceId: abc123)
  ‚úì Mind query completed (spanId: def456)
‚úì Context loaded: 45KB
‚úì Analyzing code impact...
‚úì Review completed: 12 findings
‚úì Report: .artifacts/@kb-labs/ai-review/out/review/123.json
```

### –ö–æ–º–∞–Ω–¥–∞ 3: –û—à–∏–±–∫–∞ –ø—Ä–∞–≤ (–ø–æ–Ω—è—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ)
```bash
$ kb ai-review review --pr 123
‚úó Error: Invoke denied

Caller: @kb-labs/ai-review
Target: @kb-labs/mind:POST /query
Reason: route not allowed

üí° Fix: Add '@kb-labs/mind:POST /query' to permissions.invoke.routes 
      in @kb-labs/ai-review manifest
```

### –ö–æ–º–∞–Ω–¥–∞ 4: Dashboard —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ø–ª–∞–≥–∏–Ω–∞–º–∏
```bash
$ kb dashboard show
‚úì Loading mind artifacts...
‚úì Loading ai-review artifacts...
‚úì Loading audit artifacts...
‚úì Dashboard ready: 3 plugins, 15 artifacts
```

---

## –ò—Ç–æ–≥ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

**–†–∞–Ω—å—à–µ** (–±–µ–∑ —Å–∏—Å—Ç–µ–º—ã):
- –ü–ª–∞–≥–∏–Ω—ã –Ω–µ –º–æ–≥–ª–∏ —Ä–∞–±–æ—Ç–∞—Ç—å –≤–º–µ—Å—Ç–µ
- –ù—É–∂–Ω–æ –±—ã–ª–æ –≤—Ä—É—á–Ω—É—é –≤—ã–∑—ã–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—ã –ø–æ –æ—á–µ—Ä–µ–¥–∏
- –ù–µ—Ç –≥–∞—Ä–∞–Ω—Ç–∏–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- –ù–µ—Ç —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏ –ø—Ä–æ–±–ª–µ–º

**–°–µ–π—á–∞—Å** (—Å —Å–∏—Å—Ç–µ–º–æ–π):
- ‚úÖ –ü–ª–∞–≥–∏–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –≤–º–µ—Å—Ç–µ
- ‚úÖ –û–¥–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ –º–æ–∂–µ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ü–µ–ø–æ—á–∫—É –ø–ª–∞–≥–∏–Ω–æ–≤
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–∞ –∏ –ø—Ä–æ–∑—Ä–∞—á–Ω–∞
- ‚úÖ –ü–æ–ª–Ω–∞—è —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚úÖ –ü–æ–Ω—è—Ç–Ω—ã–µ –æ—à–∏–±–∫–∏ —Å —Ä–µ—à–µ–Ω–∏—è–º–∏
- ‚úÖ –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å –∏ –∏–∑–æ–ª—è—Ü–∏—è –∏–∑ –∫–æ—Ä–æ–±–∫–∏

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç –∫–æ–º–∞–Ω–¥—É –∏ –ø–æ–ª—É—á–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç** - –≤—Å—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å —Å–∫—Ä—ã—Ç–∞ –≤–Ω—É—Ç—Ä–∏ —Å–∏—Å—Ç–µ–º—ã.

